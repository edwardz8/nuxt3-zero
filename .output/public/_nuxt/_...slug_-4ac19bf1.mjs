import{_ as h,o as l,c as _,b as t,V as w,aI as S,n as N,Q as p,aF as $,aD as I,B as v,bE as R,br as L,b5 as P,bo as T,a as g,b3 as m,d as i,a4 as x,bB as E,bs as F,b2 as O,bv as V,aJ as y,bA as H,bF as k,bt as M,bG as q}from"./entry-3b984d3c.mjs";import{A as z,a as G}from"./index-908ba005.mjs";import"./_commonjsHelpers-6067da81.mjs";const J={__name:"Toc",props:["links"],setup(a,{expose:r}){r();const n=c=>{let o=c.map(s=>{let d=[s];if(s.children){let u=n(s.children);d=[s,...u]}return d}).flat(1);return console.log({_links:o}),o},e={flattenLinks:n};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},Q=a=>($("data-v-6f21b509"),a=a(),I(),a),U={class:"toc"},W=Q(()=>t("header",{class:"toc-header"},[t("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),K={class:"toc-links"},X=["href"];function Y(a,r,n,e,c,o){return l(),_("nav",U,[W,t("ul",K,[(l(!0),_(w,null,S(e.flattenLinks(n.links),s=>(l(),_("li",{key:s.id,class:N(`toc-link _${s.depth}`)},[t("a",{href:`#${s.id}`},p(s.text),9,X)],2))),128))])])}var Z=h(J,[["render",Y],["__scopeId","data-v-6f21b509"]]);const ee={__name:"Form",setup(a,{expose:r}){r();const n=v([]),e=R(),c=v("");async function o(){const u=await(await fetch(`/api/subscribe?email=${c.value}`)).json();n.value=u,email.value=""}const s={DBResponse:n,router:e,userEmail:c,postToDB:o};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}},te={class:"bg-gray-100 mb-4 mt-4"},ne={class:"mx-auto max-w-7xl py-12 px-4 sm:px-6 lg:flex lg:items-center lg:justify-between lg:py-16 lg:px-8"},se=t("h2",{class:"text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl"},[t("span",{class:"block"},"Want exclusive content?"),t("span",{class:"block text-blue-600"},"Sign up for our free newsletter")],-1),ae={class:"mt-8 flex lg:mt-0 lg:flex-shrink-0"},oe=["onSubmit"],re=t("label",{for:"email",class:"hidden leading-7 text-sm text-gray-600"},"email",-1),ce=t("button",{class:"inline-flex ml-2 items-center justify-center rounded-md border border-transparent bg-gray-600 px-5 py-3 text-base font-medium text-white hover:bg-blue-900"}," Subscribe ",-1);function le(a,r,n,e,c,o){return l(),_("div",te,[t("div",ne,[se,t("div",ae,[t("form",{onSubmit:L(e.postToDB,["prevent"]),class:"ml-2 inline-flex rounded-md shadow"},[re,P(t("input",{type:"email",id:"email","onUpdate:modelValue":r[0]||(r[0]=s=>e.userEmail=s),name:"email",class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-gray-400 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[T,e.userEmail]]),ce],40,oe)])])])}var ie=h(ee,[["render",le]]);const _e={__name:"PrevNext",props:["prev","next"],setup(a,{expose:r}){r();const n={ArrowLeftIcon:z,ArrowRightIcon:G};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},de={class:"prev-next-cont"},ue={class:"link-item prev"},pe={class:"link-item next"};function me(a,r,n,e,c,o){const s=E;return l(),_("ul",de,[t("li",ue,[n.prev?(l(),g(s,{key:0,to:n.prev._path},{default:m(()=>[i(e.ArrowLeftIcon,{class:"icon stroke"}),t("span",null,p(n.prev.title),1)]),_:1},8,["to"])):x("",!0)]),t("li",pe,[n.next?(l(),g(s,{key:0,to:n.next._path},{default:m(()=>[t("span",null,p(n.next.title),1),i(e.ArrowRightIcon,{class:"icon stroke"})]),_:1},8,["to"])):x("",!0)])])}var he=h(_e,[["render",me],["__scopeId","data-v-4d02dcb6"]]);const fe={__name:"[...slug]",async setup(a,{expose:r}){r();let n,e;const{path:c}=F(),{data:o}=([n,e]=O(async()=>H(`content-${c}`,async()=>{let f=k().where({_path:c}).findOne(),b=k().only(["_path","title","description"]).sort({date:1}).findSurround(c);return{article:await f,surround:await b}})),n=await n,e(),n),[s,d]=o.value.surround;console.log({data:o,prev:s,next:d}),V({title:o.value.article.title,meta:[{name:"description",content:o.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${o.value.article.img}`}]});const u={path:c,data:o,prev:s,next:d};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},j=a=>($("data-v-0d3e7b2a"),a=a(),I(),a),be={id:"main",class:"article-main"},xe={key:0,class:"article-header"},ve={class:"img-cont h-72 mb-12"},ge=["src","alt"],ye={class:"heading"},ke={class:"supporting"},we={class:"article-tags"},Se=j(()=>t("hr",null,null,-1)),$e={class:"article-section"},Ie={class:"aside"},je={class:"article"},Be=j(()=>t("p",null,"No content found.",-1));function Ae(a,r,n,e,c,o){const s=y("Script"),d=y("Head"),u=Z,f=q,b=M,B=ie,A=he;return l(),_("main",be,[i(d,null,{default:m(()=>[i(s,{defer:"","data-domain":"rotorink.com",src:"https://plausible.io/js/plausible.js"})]),_:1}),e.data.article?(l(),_("header",xe,[t("div",ve,[t("img",{src:`/${e.data.article.img}`,alt:e.data.article.title,class:"rounded-2xl"},null,8,ge)]),t("h1",ye,p(e.data.article.title),1),t("p",ke,p(e.data.article.description),1),t("ul",we,[(l(!0),_(w,null,S(e.data.article.tags,(C,D)=>(l(),_("li",{class:"tag",key:D},p(C),1))),128))])])):x("",!0),Se,t("section",$e,[t("aside",Ie,[i(u,{links:e.data.article.body.toc.links},null,8,["links"])]),t("article",je,[i(b,{value:e.data.article},{empty:m(()=>[Be]),default:m(()=>[i(f,{value:e.data.article},null,8,["value"])]),_:1},8,["value"])])]),i(B),i(A,{prev:e.prev,next:e.next},null,8,["prev","next"])])}var Re=h(fe,[["render",Ae],["__scopeId","data-v-0d3e7b2a"]]);export{Re as default};
