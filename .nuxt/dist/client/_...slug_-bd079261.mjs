import{_ as x,o as c,c as i,b as a,V as y,aI as S,n as L,Q as p,aF as w,aD as I,a as b,b3 as h,d as l,a4 as v,bB as j,bs as B,b2 as P,bv as R,aJ as g,bA as O,bE as k,bt as V,bF as D}from"./entry-c71eced4.mjs";import{A as F,a as H}from"./index-eee7c6ff.mjs";const T={__name:"Toc",props:["links"],setup(s,{expose:_}){_();const e=r=>{let o=r.map(n=>{let d=[n];if(n.children){let u=e(n.children);d=[n,...u]}return d}).flat(1);return console.log({_links:o}),o},t={flattenLinks:e};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},z=s=>(w("data-v-6f21b509"),s=s(),I(),s),E={class:"toc"},q=z(()=>a("header",{class:"toc-header"},[a("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),J={class:"toc-links"},M=["href"];function Q(s,_,e,t,r,o){return c(),i("nav",E,[q,a("ul",J,[(c(!0),i(y,null,S(t.flattenLinks(e.links),n=>(c(),i("li",{key:n.id,class:L(`toc-link _${n.depth}`)},[a("a",{href:`#${n.id}`},p(n.text),9,M)],2))),128))])])}var G=x(T,[["render",Q],["__scopeId","data-v-6f21b509"]]);const K={__name:"PrevNext",props:["prev","next"],setup(s,{expose:_}){_();const e={ArrowLeftIcon:F,ArrowRightIcon:H};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},U={class:"prev-next-cont"},W={class:"link-item prev"},X={class:"link-item next"};function Y(s,_,e,t,r,o){const n=j;return c(),i("ul",U,[a("li",W,[e.prev?(c(),b(n,{key:0,to:e.prev._path},{default:h(()=>[l(t.ArrowLeftIcon,{class:"icon stroke"}),a("span",null,p(e.prev.title),1)]),_:1},8,["to"])):v("",!0)]),a("li",X,[e.next?(c(),b(n,{key:0,to:e.next._path},{default:h(()=>[a("span",null,p(e.next.title),1),l(t.ArrowRightIcon,{class:"icon stroke"})]),_:1},8,["to"])):v("",!0)])])}var Z=x(K,[["render",Y],["__scopeId","data-v-4d02dcb6"]]);const tt={__name:"[...slug]",async setup(s,{expose:_}){_();let e,t;const{path:r}=B(),{data:o}=([e,t]=P(async()=>O(`content-${r}`,async()=>{let m=k().where({_path:r}).findOne(),f=k().only(["_path","title","description"]).sort({date:1}).findSurround(r);return{article:await m,surround:await f}})),e=await e,t(),e),[n,d]=o.value.surround;console.log({data:o,prev:n,next:d}),R({title:o.value.article.title,meta:[{name:"description",content:o.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${o.value.article.img}`}]});const u={path:r,data:o,prev:n,next:d};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},$=s=>(w("data-v-1fdfb340"),s=s(),I(),s),et={id:"main",class:"article-main"},at={key:0,class:"article-header"},nt={class:"img-cont h-72 mb-12"},st=["src","alt"],ot={class:"heading"},ct={class:"supporting"},rt={class:"article-tags"},_t=$(()=>a("hr",null,null,-1)),lt={class:"article-section"},it={class:"aside"},dt={class:"article"},ut=$(()=>a("p",null,"No content found.",-1));function pt(s,_,e,t,r,o){const n=g("Script"),d=g("Head"),u=G,m=D,f=V,A=Z;return c(),i("main",et,[l(d,null,{default:h(()=>[l(n,{defer:"","data-domain":"propz.vercel.app",src:"https://plausible.io/js/plausible.js"})]),_:1}),t.data.article?(c(),i("header",at,[a("div",nt,[a("img",{src:`/${t.data.article.img}`,alt:t.data.article.title,class:"rounded-2xl"},null,8,st)]),a("h1",ot,p(t.data.article.title),1),a("p",ct,p(t.data.article.description),1),a("ul",rt,[(c(!0),i(y,null,S(t.data.article.tags,(C,N)=>(c(),i("li",{class:"tag",key:N},p(C),1))),128))])])):v("",!0),_t,a("section",lt,[a("aside",it,[l(u,{links:t.data.article.body.toc.links},null,8,["links"])]),a("article",dt,[l(f,{value:t.data.article},{empty:h(()=>[ut]),default:h(()=>[l(m,{value:t.data.article},null,8,["value"])]),_:1},8,["value"])])]),l(A,{prev:t.prev,next:t.next},null,8,["prev","next"])])}var ft=x(tt,[["render",pt],["__scopeId","data-v-1fdfb340"]]);export{ft as default};
