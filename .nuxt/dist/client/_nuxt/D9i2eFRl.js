import{H as A}from"./BXeNieN1.js";import{_ as f,o as l,c as u,a as t,F as w,r as $,n as F,t as m,f as h,u as H,g as L,h as M,v as V,i as o,j as q,k as v,w as p,b as c,l as x,e as E,m as P,p as z,q as b,s as O}from"./Dg8NhqDI.js";import U from"./BIPwcBdg.js";import{s as y}from"./DpjCrN7F.js";import{q as k}from"./BcD7-dAG.js";import{u as W}from"./IbK99WOA.js";import"./Cjp8Y9Cm.js";import"./C-v3KzvZ.js";import"./BmlbPuZL.js";import"./HDYykYl1.js";import"./C932wzq6.js";const G={class:"toc"},J={class:"toc-links"},K=["href"],Q={__name:"Toc",props:["links"],setup(r){const i=a=>{let n=a.map(e=>{let s=[e];if(e.children){let d=i(e.children);s=[e,...d]}return s}).flat(1);return console.log({_links:n}),n};return(a,n)=>(l(),u("nav",G,[n[0]||(n[0]=t("header",{class:"toc-header"},[t("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),t("ul",J,[(l(!0),u(w,null,$(i(r.links),e=>(l(),u("li",{key:e.id,class:F(`toc-link _${e.depth}`)},[t("a",{href:`#${e.id}`},m(e.text),9,K)],2))),128))])]))}},X=f(Q,[["__scopeId","data-v-1c6d7220"]]),Y={class:"bg-gray-100 mb-4 mt-4"},Z={class:"mx-auto max-w-7xl py-12 px-4 sm:px-6 lg:flex lg:items-center lg:justify-between lg:py-16 lg:px-8"},tt={class:"mt-8 flex lg:mt-0 lg:flex-shrink-0"},et={__name:"Form",setup(r){const i=h([]);H();const a=h("");async function n(){const s=await(await fetch(`/api/subscribe?email=${a.value}`)).json();i.value=s,email.value=""}return(e,s)=>(l(),u("div",Y,[t("div",Z,[s[3]||(s[3]=t("h2",{class:"text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl"},[t("span",{class:"block"},"Want exclusive content?"),t("span",{class:"block text-blue-600"},"Sign up for our free newsletter")],-1)),t("div",tt,[t("form",{onSubmit:L(n,["prevent"]),class:"ml-2 inline-flex rounded-md shadow"},[s[1]||(s[1]=t("label",{for:"email",class:"hidden leading-7 text-sm text-gray-600"},"email",-1)),M(t("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=d=>q(a)?a.value=d:null),name:"email",class:"w-full bg-white rounded border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-gray-400 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[V,o(a)]]),s[2]||(s[2]=t("button",{class:"inline-flex ml-2 items-center justify-center rounded-md border border-transparent bg-gray-600 px-5 py-3 text-base font-medium text-white hover:bg-blue-900"}," Subscribe ",-1))],32)])])]))}},st={class:"prev-next-cont"},nt={class:"link-item prev"},ot={class:"link-item next"},at={__name:"PrevNext",props:["prev","next"],setup(r){return(i,a)=>{const n=E;return l(),u("ul",st,[t("li",nt,[r.prev?(l(),v(n,{key:0,to:r.prev._path},{default:p(()=>[c(o(y.ArrowLeftIcon),{class:"icon stroke"}),t("span",null,m(r.prev.title),1)]),_:1},8,["to"])):x("",!0)]),t("li",ot,[r.next?(l(),v(n,{key:0,to:r.next._path},{default:p(()=>[t("span",null,m(r.next.title),1),c(o(y.ArrowRightIcon),{class:"icon stroke"})]),_:1},8,["to"])):x("",!0)])])}}},lt=f(at,[["__scopeId","data-v-3d46834e"]]),rt={id:"main",class:"article-main"},it={key:0,class:"article-header"},ct={class:"img-cont h-72 mb-12"},ut=["src","alt"],dt={class:"heading"},_t={class:"supporting"},mt={class:"article-tags"},pt={class:"article-section"},xt={class:"aside"},ft={class:"article"},gt={__name:"[...slug]",async setup(r){let i,a;const{path:n}=P(),{data:e}=([i,a]=z(async()=>O(`content-${n}`,async()=>{let g=k().where({_path:n}).findOne(),_=k().only(["_path","title","description"]).sort({date:1}).findSurround(n);return{article:await g,surround:await _}})),i=await i,a(),i),[s,d]=e.value.surround;return console.log({data:e,prev:s,next:d}),W({title:e.value.article.title,meta:[{name:"description",content:e.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${e.value.article.img}`}]}),(g,_)=>{const R=b("Script"),C=A,N=X,S=b("MarkdownRenderer"),j=U,B=et,D=lt;return l(),u("main",rt,[c(C,null,{default:p(()=>[c(R,{defer:"","data-domain":"rotorink.com",src:"https://plausible.io/js/plausible.js"})]),_:1}),o(e).article?(l(),u("header",it,[t("div",ct,[t("img",{src:`/${o(e).article.img}`,alt:o(e).article.title,class:"rounded-2xl"},null,8,ut)]),t("h1",dt,m(o(e).article.title),1),t("p",_t,m(o(e).article.description),1),t("ul",mt,[(l(!0),u(w,null,$(o(e).article.tags,(I,T)=>(l(),u("li",{class:"tag",key:T},m(I),1))),128))])])):x("",!0),_[1]||(_[1]=t("hr",null,null,-1)),t("section",pt,[t("aside",xt,[c(N,{links:o(e).article.body.toc.links},null,8,["links"])]),t("article",ft,[c(j,{value:o(e).article},{empty:p(()=>_[0]||(_[0]=[t("p",null,"No content found.",-1)])),default:p(()=>[c(S,{value:o(e).article},null,8,["value"])]),_:1},8,["value"])])]),c(B),c(D,{prev:o(s),next:o(d)},null,8,["prev","next"])])}}},jt=f(gt,[["__scopeId","data-v-9dc4bc9a"]]);export{jt as default};
