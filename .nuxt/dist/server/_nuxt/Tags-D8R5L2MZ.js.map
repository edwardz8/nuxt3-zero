{"version":3,"file":"Tags-D8R5L2MZ.js","sources":["../../../../components/Tags.vue"],"sourcesContent":["<script setup>\nimport { TagIcon } from \"@heroicons/vue/solid/index.js\";\n\n// tag list state\nconst expanded = ref(false);\n\n// helper function to flatten tags array\nconst flatten = (tags, key) => {\n  console.log(tags);\n\n  let _tags = tags\n    .map((tag) => {\n      let _tag = tag;\n      if (tag[key]) {\n        let flattened = flatten(tag[key]);\n        _tag = flattened;\n      }\n      return _tag;\n    })\n    .flat(1);\n\n  console.log({ _tags });\n\n  return _tags;\n};\n\n// function to toggle expanded state\nconst toggleExpand = () => {\n  expanded.value = !expanded.value;\n};\n\n// get only tags data from `/blog`\nconst { data } = await useAsyncData(\"tags\", () => queryContent(\"blog\").only([\"tags\"]).find());\n\n// generate array without duplicates from flattened array\nconst articleTags = [...new Set(flatten(data.value, \"tags\"))];\n\nconsole.log({ articleTags });\n</script>\n<template>\n  <div class=\"tag-list\" :class=\"{ active: expanded }\">\n    <!-- Button to toggle expand -->\n    <button @click=\"toggleExpand\" class=\"cta w-icon\">\n      <TagIcon class=\"icon solid\" />\n      <span>Tags</span>\n    </button>\n    <ul class=\"article-tags\" :class=\"{ expanded: expanded }\">\n      <!-- list out tags with links -->\n      <li v-for=\"(tag, n) in articleTags\" :key=\"n\" class=\"tag\">\n        <NuxtLink :to=\"`/blog/tags/${tag}`\" class=\"font-semibold\"> {{ tag }} </NuxtLink>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<style scoped>\n/* ... */\n.tag-list {\n  @apply flex items-center gap-2 p-2 border border-transparent  rounded-lg;\n}\n.tag-list.active {\n  @apply border-slate-200;\n}\n.article-tags {\n  @apply transition-all max-w-0 overflow-hidden;\n}\n.article-tags.expanded {\n  @apply max-w-full;\n}\n</style>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;AAIA,UAAM,WAAW,IAAI,KAAK;AAG1B,UAAM,UAAU,CAAC,MAAM,QAAQ;AAC7B,cAAQ,IAAI,IAAI;AAEhB,UAAI,QAAQ,KACT,IAAI,CAAC,QAAQ;AACZ,YAAI,OAAO;AACX,YAAI,IAAI,GAAG,GAAG;AACZ,cAAI,YAAY,QAAQ,IAAI,GAAG,CAAC;AAChC,iBAAO;AAAA,QACf;AACM,eAAO;AAAA,MACR,CAAA,EACA,KAAK,CAAC;AAET,cAAQ,IAAI,EAAE,OAAO;AAErB,aAAO;AAAA,IACT;AAQA,UAAM,EAAE,KAAM,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,aAAa,QAAQ,MAAM,aAAa,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE,KAAI,CAAE,CAAA;AAG5F,UAAM,cAAc,CAAC,GAAG,IAAI,IAAI,QAAQ,KAAK,OAAO,MAAM,CAAC,CAAC;AAE5D,YAAQ,IAAI,EAAE,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}